{% extends "layout.njk" %}

{% set title = 'Індекс шкільних розкладів уроків' %}

{% block title %}{{ title }}{% endblock %}

{% block head %}

  <link
    href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
    crossorigin="anonymous"
  />

  <link rel="stylesheet" href="{{ relativeRoot }}/directory-index.css">

{% endblock %}


{% block body %}

  <main>

    <h1>{{ title }}</h1>

    <h2 id="current-dir">
      <a href="{{ relativeRoot }}" class="dir-name"><i class="fa fa-home"></i></a>
      {% for dirName in dirNames %}
        {% if not loop.last %}
          <a href="{{ '..' + '/..'.repeat(loop.revindex0 - 1) }}" class="dir-name">{{ dirName }}</a>
        {% else %}
          <span class="dir-name">{{ dirName }}</span>
        {% endif %}
      {% endfor %}
    </h2>

    <ul class="fa-ul">
      {% if dirNames|length %}
        <li>
          <a href="../">
            <i class="fa fa-li fa-level-up"></i>
            &lt;папка вище&gt;
          </a>
        </li>
      {% endif %}
      {% for item in contents %}
        <li>
          <a href="./{{ item.name }}">
            <i class="fa fa-li fa-{{ 'folder' if item.isDir else 'file-text' }}-o"></i>
            {{ item.name }}
          </a>
        </li>
      {% endfor %}
    </ul>

  </main>

{% endblock %}
